# DomainFlow - åŸŸåç›‘æ§å¹³å°

ä¸€ä¸ªæç®€ç¾å­¦ã€æ”¯æŒå¤šç§å¯¼å…¥æ–¹å¼çš„åŸŸååˆ°æœŸè‡ªåŠ¨ç›‘æ§å¹³å°ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¯ **å¤šç§å¯¼å…¥æ–¹å¼**ï¼šæ”¯æŒæŒ‰è¡Œç²˜è´´ã€æ–‡ä»¶å¯¼å…¥ã€å­—ç¬¦ä¸²å¯¼å…¥
- ğŸ“Š **ç›´è§‚ä»ªè¡¨ç›˜**ï¼šæ¸…æ™°æ˜¾ç¤ºåŸŸåçŠ¶æ€ï¼ŒåŒ…å«ç»Ÿè®¡å›¾è¡¨
- ğŸ”” **æ™ºèƒ½çŠ¶æ€æ ‡è¯†**ï¼šæ­£å¸¸ã€å³å°†åˆ°æœŸã€å·²è¿‡æœŸã€æŸ¥è¯¢å¤±è´¥
- âš¡ **è‡ªåŠ¨åŒ–ç›‘æ§**ï¼šå®šæ—¶ WHOIS æŸ¥è¯¢ï¼Œä¿æŒä¿¡æ¯æœ€æ–°
- ğŸŒ **å›½é™…åŒ–æ”¯æŒ**ï¼šä¸­è‹±æ–‡åŒè¯­ç•Œé¢
- ğŸ¨ **ç°ä»£ UI**ï¼šåŸºäº shadcn/uiï¼Œæ”¯æŒæš—é»‘æ¨¡å¼

## æŠ€æœ¯æ ˆ

- **å‰ç«¯**: Astro + React + TypeScript
- **UIç»„ä»¶**: shadcn/ui + Tailwind CSS
- **åç«¯**: Node.js + Express
- **æ•°æ®å­˜å‚¨**: JSON æ–‡ä»¶
- **WHOISæŸ¥è¯¢**: whois åŒ…
- **å®šæ—¶ä»»åŠ¡**: node-cron

## å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
npm run dev

# å¯åŠ¨åç«¯APIæœåŠ¡å™¨ï¼ˆæ–°ç»ˆç«¯çª—å£ï¼‰
npm run server:dev
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

## é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/             # shadcn/uiåŸºç¡€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx   # ä¸»ä»ªè¡¨ç›˜
â”‚   â”‚   â”œâ”€â”€ DomainImportDialog.tsx  # åŸŸåå¯¼å…¥å¯¹è¯æ¡†
â”‚   â”‚   â””â”€â”€ DomainTable.tsx # åŸŸåè¡¨æ ¼
â”‚   â”œâ”€â”€ layouts/            # Astroå¸ƒå±€
â”‚   â”œâ”€â”€ pages/              # Astroé¡µé¢
â”‚   â”œâ”€â”€ styles/             # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ types/              # TypeScriptç±»å‹å®šä¹‰
â”‚   â””â”€â”€ i18n/               # å›½é™…åŒ–æ–‡ä»¶
â”œâ”€â”€ server/                 # Node.jsåç«¯
â”‚   â””â”€â”€ index.js           # ä¸»æœåŠ¡å™¨æ–‡ä»¶
â”œâ”€â”€ public/                # é™æ€èµ„æº
â””â”€â”€ domains.json           # åŸŸåæ•°æ®å­˜å‚¨ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
```

## API æ¥å£

### è·å–åŸŸååˆ—è¡¨
```
GET /api/domains
```

### å¯¼å…¥åŸŸå
```
POST /api/domains/import
Body: { "domains": ["example.com", "google.com"] }
```

### åˆ‡æ¢é€šçŸ¥çŠ¶æ€
```
PATCH /api/domains/:id/notifications
Body: { "notifications": true }
```

### åˆ·æ–°åŸŸåä¿¡æ¯
```
POST /api/domains/:id/refresh
```

## è‡ªåŠ¨åŒ–ä»»åŠ¡

ç³»ç»Ÿæ¯å¤©å‡Œæ™¨2ç‚¹è‡ªåŠ¨æ›´æ–°æ‰€æœ‰åŸŸåçš„WHOISä¿¡æ¯ã€‚å¯ä»¥é€šè¿‡ä¿®æ”¹ `server/index.js` ä¸­çš„ cron è¡¨è¾¾å¼æ¥è°ƒæ•´æ—¶é—´ï¼š

```javascript
// æ¯å¤©å‡Œæ™¨2ç‚¹æ‰§è¡Œ
cron.schedule('0 2 * * *', async () => {
  // æ›´æ–°é€»è¾‘
});
```

## å¼€å‘è¯´æ˜

### æ·»åŠ æ–°çš„UIç»„ä»¶

é¡¹ç›®ä½¿ç”¨ shadcn/ui ç»„ä»¶åº“ã€‚æ·»åŠ æ–°ç»„ä»¶ï¼š

1. å°†ç»„ä»¶ä»£ç æ”¾å…¥ `src/components/ui/` ç›®å½•
2. ç¡®ä¿å¯¼å…¥ `@/lib/utils` ä¸­çš„ `cn` å‡½æ•°
3. ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹å®šä¹‰

### ä¿®æ”¹æ•°æ®å­˜å‚¨

å½“å‰ä½¿ç”¨ JSON æ–‡ä»¶å­˜å‚¨ã€‚å¦‚éœ€å‡çº§åˆ°æ•°æ®åº“ï¼š

1. å®‰è£…æ•°æ®åº“ç›¸å…³ä¾èµ–ï¼ˆå¦‚ better-sqlite3ï¼‰
2. ä¿®æ”¹ `server/index.js` ä¸­çš„æ•°æ®æ“ä½œå‡½æ•°
3. æ›´æ–°æ•°æ®æ¨¡å‹

## éƒ¨ç½²

### å‰ç«¯éƒ¨ç½²

```bash
npm run build
# éƒ¨ç½² dist/ ç›®å½•åˆ°é™æ€æ‰˜ç®¡æœåŠ¡
```

### åç«¯éƒ¨ç½²

```bash
# ä½¿ç”¨PM2æˆ–ç±»ä¼¼å·¥å…·
pm2 start server/index.js --name domainflow-api
```

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## è®¸å¯è¯

MIT License 