# DomMate - ä¸“ä¸šåŸŸåç›‘æ§å¹³å°

<div align="center">
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Node.js Version](https://img.shields.io/badge/node-%3E%3D16.0.0-brightgreen.svg)](https://nodejs.org/)
[![Database](https://img.shields.io/badge/database-SQLite-blue.svg)](https://www.sqlite.org/)
[![GitHub Stars](https://img.shields.io/github/stars/yeagoo/DomMate.svg)](https://github.com/yeagoo/DomMate)

**ä¸“ä¸šçš„åŸŸååˆ°æœŸç›‘æ§è§£å†³æ–¹æ¡ˆ**

[ğŸŒ å®˜æ–¹ç½‘ç«™](https://dommate.com) | [ğŸ“– English Documentation](./README.md) | [ğŸš€ åœ¨çº¿æ¼”ç¤º](https://demo.dommate.com)

![DomMate Logo](./public/logo.svg)

</div>

## ğŸŒŸ å…³äº DomMate

**DomMate** æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„åŸŸåç›‘æ§å¹³å°ï¼Œä¸“ä¸ºä¸ªäººå’Œä¼ä¸šç”¨æˆ·è®¾è®¡ï¼Œæä¾›å…¨æ–¹ä½çš„åŸŸåç®¡ç†å’Œåˆ°æœŸç›‘æ§æœåŠ¡ã€‚å‡­å€Ÿç›´è§‚çš„ç•Œé¢å’Œå¼ºå¤§çš„åç«¯ï¼ŒDomMate ç¡®ä¿æ‚¨æ°¸è¿œä¸ä¼šé”™è¿‡å…³é”®çš„åŸŸåç»­è´¹ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ” æ™ºèƒ½ç›‘æ§
- **è‡ªåŠ¨åŸŸååˆ°æœŸè·Ÿè¸ª**: å®æ—¶ç›‘æ§åŸŸååˆ°æœŸæ—¥æœŸ
- **æ‰¹é‡æ“ä½œ**: é«˜æ•ˆç®¡ç†æ•°ç™¾ä¸ªåŸŸå
- **WHOISé›†æˆ**: è‡ªåŠ¨è·å–åŸŸåä¿¡æ¯
- **è‡ªå®šä¹‰æ£€æŸ¥é—´éš”**: çµæ´»çš„ç›‘æ§è®¡åˆ’

### ğŸ“§ é«˜çº§é€šçŸ¥
- **å¤šæ¸ é“è­¦æŠ¥**: å¯è‡ªå®šä¹‰æ¨¡æ¿çš„é‚®ä»¶é€šçŸ¥
- **æ™ºèƒ½è°ƒåº¦**: æ¯æ—¥ã€æ¯å‘¨å’Œè‡ªå®šä¹‰é€šçŸ¥è§„åˆ™
- **é€šçŸ¥å†å²**: å®Œæ•´çš„è­¦æŠ¥å®¡è®¡è·Ÿè¸ª
- **æ¨¡æ¿è‡ªå®šä¹‰**: ä¸ªæ€§åŒ–é‚®ä»¶æ¨¡æ¿

### ğŸ“Š åˆ†æä¸æ´å¯Ÿ
- **ç»¼åˆä»ªè¡¨æ¿**: å¯è§†åŒ–åŸŸåç»„åˆæ¦‚è§ˆ
- **åˆ°æœŸåˆ†æ**: è¯¦ç»†çš„ç»Ÿè®¡å’Œè¶‹åŠ¿
- **å¯¼å‡ºåŠŸèƒ½**: CSVã€JSONã€Excelå¯¼å‡ºé€‰é¡¹
- **æŠ¥å‘Šå·¥å…·**: å®šæ—¶æŠ¥å‘Šå’Œæ•°æ®å¯è§†åŒ–

### ğŸ·ï¸ ç»„ç»‡å·¥å…·
- **åŸŸååˆ†ç»„**: çµæ´»çš„åˆ†ç±»ç³»ç»Ÿ
- **æ ‡ç­¾ç³»ç»Ÿ**: ç”¨æ˜Ÿçº§æ ‡è®°é‡è¦åŸŸå
- **å¤‡æ³¨å’Œè¯„è®º**: ä¸ºæ¯ä¸ªåŸŸåæ·»åŠ è¯¦ç»†å¤‡æ³¨
- **æœç´¢å’Œè¿‡æ»¤**: é«˜çº§æœç´¢å’Œè¿‡æ»¤é€‰é¡¹

### ğŸ” å®‰å…¨è®¤è¯
- **ç”¨æˆ·è®¤è¯**: å…·æœ‰ä¼šè¯ç®¡ç†çš„å®‰å…¨ç™»å½•
- **éªŒè¯ç ä¿æŠ¤**: é˜²æ­¢æš´åŠ›ç ´è§£æ”»å‡»
- **å¯†ç ç­–ç•¥**: å¼ºåˆ¶å¯†ç æ›´æ”¹å’Œå®‰å…¨è§„åˆ™
- **ä¼šè¯ç®¡ç†**: åŸºäºä»¤ç‰Œçš„å®‰å…¨è®¤è¯

### ğŸŒ å¤šè¯­è¨€æ”¯æŒ
- **åŒè¯­ç•Œé¢**: å®Œæ•´çš„ä¸­è‹±æ–‡æ”¯æŒ
- **å›½é™…åŒ–**: ä¸ºå…¶ä»–è¯­è¨€åšå¥½i18nå‡†å¤‡
- **æœ¬åœ°åŒ–å†…å®¹**: ç‰¹å®šæ–‡åŒ–çš„æ—¥æœŸå’Œæ—¶é—´æ ¼å¼

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ³ Docker éƒ¨ç½² (æ¨è)

æœ€ç®€å•å¿«é€Ÿçš„éƒ¨ç½²æ–¹å¼ï¼Œä¸€æ¡å‘½ä»¤å³å¯å¯åŠ¨ï¼š

```bash
# ä½¿ç”¨å®˜æ–¹é•œåƒå¿«é€Ÿå¯åŠ¨
docker run -d \
  --name dommate \
  -p 3001:3001 \
  -v dommate-data:/app/data \
  -v dommate-logs:/app/logs \
  -v dommate-exports:/app/exports \
  ghcr.io/yeagoo/dommate:latest

# ç­‰å¾…å‡ ç§’é’Ÿè®©æœåŠ¡å¯åŠ¨ï¼Œç„¶åè®¿é—®
# å‰ç«¯ç•Œé¢: http://localhost:3001
# APIæ¥å£: http://localhost:3001/api
```

**ä½¿ç”¨ Docker Compose (æ¨èç”Ÿäº§ç¯å¢ƒ)ï¼š**

```yaml
# docker-compose.yml
version: '3.8'
services:
  dommate:
    image: ghcr.io/yeagoo/dommate:latest
    container_name: dommate
    ports:
      - "3001:3001"
    volumes:
      - dommate-data:/app/data
      - dommate-logs:/app/logs
      - dommate-exports:/app/exports
    environment:
      - NODE_ENV=production
      - TZ=Asia/Shanghai  # è®¾ç½®æ—¶åŒº
    restart: unless-stopped

volumes:
  dommate-data:
  dommate-logs:
  dommate-exports:
```

```bash
# å¯åŠ¨æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f dommate
```

### ğŸ“¦ ä¼ ç»Ÿå®‰è£…æ–¹å¼

å¦‚æœæ‚¨åå¥½æºç å®‰è£…ï¼š

#### ç¯å¢ƒè¦æ±‚

- **Node.js** >= 16.0.0
- **npm** >= 7.0.0
- **Git** (ç”¨äºå…‹éš†ä»“åº“)

#### å®‰è£…æ­¥éª¤

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/yeagoo/DomMate.git
cd DomMate

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨åç«¯æœåŠ¡å™¨
node server/index.js

# åœ¨æ–°ç»ˆç«¯ä¸­å¯åŠ¨å‰ç«¯
npm run dev
```

### ğŸ¯ é¦–æ¬¡è®¿é—®

1. **æ‰“å¼€æµè§ˆå™¨** å¹¶å¯¼èˆªåˆ°ï¼š
   - **Dockeréƒ¨ç½²**: `http://localhost:3001` (å‰ç«¯+åç«¯)
   - **æºç å®‰è£…**: `http://localhost:4322` (å‰ç«¯) + `http://localhost:3001` (åç«¯)
2. **ç™»å½•** ä½¿ç”¨é»˜è®¤å¯†ç : `admin123`
3. **ç«‹å³æ›´æ”¹å¯†ç ** ä»¥ç¡®ä¿å®‰å…¨
4. **å¼€å§‹æ·»åŠ åŸŸå** è¿›è¡Œç›‘æ§

### âš¡ å¿«é€Ÿæµ‹è¯•

```bash
# æ£€æŸ¥å‰ç«¯é¡µé¢
curl http://localhost:3001

# æ£€æŸ¥APIæœåŠ¡çŠ¶æ€
curl http://localhost:3001/api/auth/info

# é¢„æœŸAPIè¿”å›
{"requiresAuth": true, "hasUsers": true}
```

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
DomMate/
â”œâ”€â”€ server/                    # åç«¯APIæœåŠ¡å™¨
â”‚   â”œâ”€â”€ index.js              # ä¸»æœåŠ¡å™¨æ–‡ä»¶
â”‚   â”œâ”€â”€ database.js           # SQLiteæ•°æ®åº“æ“ä½œ
â”‚   â”œâ”€â”€ authService.js        # è®¤è¯æœåŠ¡
â”‚   â”œâ”€â”€ emailService.js       # é‚®ä»¶é€šçŸ¥æœåŠ¡
â”‚   â””â”€â”€ exportService.js      # æ•°æ®å¯¼å‡ºæœåŠ¡
â”œâ”€â”€ src/                      # å‰ç«¯æºä»£ç 
â”‚   â”œâ”€â”€ components/           # Reactç»„ä»¶
â”‚   â”œâ”€â”€ layouts/              # Astroå¸ƒå±€
â”‚   â”œâ”€â”€ pages/                # åº”ç”¨é¡µé¢
â”‚   â”œâ”€â”€ lib/                  # å·¥å…·åº“
â”‚   â””â”€â”€ i18n/                 # å›½é™…åŒ–
â”œâ”€â”€ public/                   # é™æ€èµ„æº
â””â”€â”€ docs/                     # æ–‡æ¡£
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯**: Astro + React + TypeScript + Tailwind CSS
- **åç«¯**: Node.js + Express.js
- **æ•°æ®åº“**: SQLite
- **è®¤è¯**: JWT + ä¼šè¯ç®¡ç†
- **é‚®ä»¶**: æ”¯æŒæ¨¡æ¿çš„SMTP
- **API**: RESTful APIè®¾è®¡

## ğŸ”§ é…ç½®

### ç¯å¢ƒå˜é‡

åœ¨æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶:

```bash
# æ•°æ®åº“é…ç½®
DATABASE_PATH=./domain.db

# æœåŠ¡å™¨ç«¯å£
SERVER_PORT=3001
CLIENT_PORT=4322

# é‚®ä»¶é…ç½® (å¯é€‰)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your-email@example.com
SMTP_PASS=your-password

# å®‰å…¨è®¾ç½®
JWT_SECRET=your-jwt-secret
SESSION_SECRET=your-session-secret
```

### é‚®ä»¶è®¾ç½®

åœ¨åº”ç”¨ç¨‹åºä¸­é…ç½®SMTPè®¾ç½®:

1. å¯¼èˆªåˆ° **é‚®ä»¶é€šçŸ¥ç³»ç»Ÿ**
2. æ·»åŠ æ‚¨çš„SMTPé…ç½®
3. æµ‹è¯•è¿æ¥
4. è®¾ç½®é€šçŸ¥è§„åˆ™

## ğŸ“š API æ–‡æ¡£

### è®¤è¯ç«¯ç‚¹

```bash
# ç™»å½•
POST /api/auth/login
Content-Type: application/json
{
  "password": "your-password",
  "captcha": "captcha-value"
}

# æ›´æ”¹å¯†ç 
POST /api/auth/change-password
X-Session-Id: session-token
{
  "oldPassword": "old-password",
  "newPassword": "new-password"
}

# é€€å‡ºç™»å½•
POST /api/auth/logout
X-Session-Id: session-token
```

### åŸŸåç®¡ç†

```bash
# è·å–æ‰€æœ‰åŸŸå
GET /api/domains
X-Session-Id: session-token

# æ·»åŠ åŸŸå
POST /api/domains
X-Session-Id: session-token
{
  "domain": "example.com",
  "groupId": 1,
  "isImportant": false,
  "notes": "å¯é€‰å¤‡æ³¨"
}

# æ›´æ–°åŸŸåå¤‡æ³¨
PATCH /api/domains/:id/notes
X-Session-Id: session-token
{
  "notes": "æ›´æ–°çš„å¤‡æ³¨"
}

# æ‰¹é‡æ“ä½œ
POST /api/domains/batch-important
X-Session-Id: session-token
{
  "domainIds": [1, 2, 3],
  "isImportant": true
}
```

### å¯¼å‡ºAPI

```bash
# å¯¼å‡ºåŸŸå
POST /api/export/domains
X-Session-Id: session-token
{
  "format": "json",
  "fields": ["domain", "expiresAt", "status"],
  "language": "zh"
}
```

## ğŸ³ ç”Ÿäº§éƒ¨ç½²

### è‡ªå®šä¹‰ Docker æ„å»º

å¦‚æœæ‚¨éœ€è¦ä¿®æ”¹æºç å¹¶æ„å»ºè‡ªå·±çš„é•œåƒï¼š

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/yeagoo/DomMate.git
cd DomMate

# æ„å»ºè‡ªå®šä¹‰é•œåƒ
docker build -t dommate-custom:latest .

# è¿è¡Œè‡ªå®šä¹‰é•œåƒ
docker run -d \
  --name dommate-custom \
  -p 3001:3001 \
  -v dommate-data:/app/data \
  dommate-custom:latest
```

### PM2 éƒ¨ç½² (æºç éƒ¨ç½²)

```bash
# å®‰è£…PM2
npm install -g pm2

# å¯åŠ¨åç«¯æœåŠ¡
pm2 start server/index.js --name dommate-api

# å¯åŠ¨å‰ç«¯æœåŠ¡
pm2 start "npm run dev" --name dommate-web

# ä¿å­˜PM2é…ç½®
pm2 save
pm2 startup
```

### ç”Ÿäº§æ„å»º

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# ä½¿ç”¨é™æ€æœåŠ¡å™¨æä¾›æœåŠ¡
npm run preview
```

### Docker å¥åº·æ£€æŸ¥

Dockeré•œåƒå†…ç½®å¥åº·æ£€æŸ¥ï¼Œå¯ä»¥ç›‘æ§æœåŠ¡çŠ¶æ€ï¼š

```bash
# æ£€æŸ¥å®¹å™¨å¥åº·çŠ¶æ€
docker ps

# æŸ¥çœ‹å¥åº·æ£€æŸ¥è¯¦æƒ…
docker inspect dommate --format='{{.State.Health}}'

# æŸ¥çœ‹å¥åº·æ£€æŸ¥æ—¥å¿—
docker logs dommate
```

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œåç«¯æµ‹è¯•
npm test

# è¿è¡Œé›†æˆæµ‹è¯•
npm run test:integration

# æµ‹è¯•è®¤è¯ç³»ç»Ÿ
./test-force-password-change.sh

# æµ‹è¯•å¯†ç ç®¡ç†
./password-admin-tool.sh
```

## ğŸ”’ å®‰å…¨åŠŸèƒ½

- **å¯†ç åŠ å¯†**: SHA-256å“ˆå¸Œ
- **ä¼šè¯ç®¡ç†**: å®‰å…¨çš„åŸºäºä»¤ç‰Œçš„ä¼šè¯
- **æš´åŠ›ç ´è§£ä¿æŠ¤**: ç™»å½•å°è¯•é™åˆ¶
- **éªŒè¯ç éªŒè¯**: æ•°å­¦æŒ‘æˆ˜ç³»ç»Ÿ
- **å¼ºåˆ¶å¯†ç æ›´æ”¹**: å®‰å…¨ç­–ç•¥æ‰§è¡Œ
- **SQLæ³¨å…¥é˜²æŠ¤**: å‚æ•°åŒ–æŸ¥è¯¢
- **XSSä¿æŠ¤**: è¾“å…¥æ¸…ç†

## ğŸŒ å›½é™…åŒ–

DomMate æ”¯æŒå¤šç§è¯­è¨€:

- **è‹±è¯­**: å®Œæ•´çš„ç•Œé¢æ”¯æŒ
- **ä¸­æ–‡**: å®Œæ•´çš„æœ¬åœ°åŒ–
- **å¯æ‰©å±•**: æ˜“äºæ·»åŠ æ–°è¯­è¨€

æ·»åŠ æ–°è¯­è¨€çš„æ­¥éª¤:
1. åœ¨ `src/i18n/` ä¸­åˆ›å»ºæ–°çš„ç¿»è¯‘æ–‡ä»¶
2. æ›´æ–°è¯­è¨€é€‰æ‹©å™¨
3. æ·»åŠ æ—¥æœŸ/æ—¶é—´æœ¬åœ°åŒ–

## ğŸ¤ è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿ç¤¾åŒºçš„è´¡çŒ®ï¼

### å¦‚ä½•è´¡çŒ®

1. **Fork** ä»“åº“
2. **åˆ›å»º** åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. **æäº¤** æ‚¨çš„æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. **æ¨é€** åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. **æ‰“å¼€** Pull Request

### å¼€å‘æŒ‡å—

- éµå¾ªç°æœ‰çš„ä»£ç é£æ ¼
- ç¼–å†™å…¨é¢çš„æµ‹è¯•
- æ›´æ–°æ–‡æ¡£
- ä½¿ç”¨æœ‰æ„ä¹‰çš„æäº¤æ¶ˆæ¯

### æŠ¥å‘Šé—®é¢˜

- ä½¿ç”¨ [GitHub Issues](https://github.com/yeagoo/DomMate/issues) é¡µé¢
- æä¾›è¯¦ç»†çš„é‡ç°æ­¥éª¤
- åŒ…å«ç³»ç»Ÿä¿¡æ¯
- é™„åŠ ç›¸å…³æ—¥å¿—

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **MIT è®¸å¯è¯** - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ† å¥–é¡¹ä¸è®¤å¯

- â­ GitHub è¶‹åŠ¿æ¨è
- ğŸš€ Product Hunt æ¯æ—¥æ¨è
- ğŸ’ æœˆåº¦å¼€æºé¡¹ç›®

## ğŸ™ è‡´è°¢

- **è´¡çŒ®è€…**: æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„äºº
- **ä¾èµ–åº“**: åŸºäºå‡ºè‰²çš„å¼€æºé¡¹ç›®æ„å»º
- **ç¤¾åŒº**: æ„Ÿè°¢åé¦ˆå’Œæ”¯æŒ

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

### æœ€ä½³å®è·µ

1. **å®šæœŸå¤‡ä»½**: å®šæœŸå¤‡ä»½æ‚¨çš„åŸŸåæ•°æ®
2. **åˆ†ç»„ç®¡ç†**: ä½¿ç”¨åˆ†ç»„åŠŸèƒ½ç»„ç»‡æ‚¨çš„åŸŸå
3. **è®¾ç½®æé†’**: é…ç½®åˆé€‚çš„åˆ°æœŸæé†’æ—¶é—´
4. **ç›‘æ§çŠ¶æ€**: å®šæœŸæ£€æŸ¥åŸŸåçŠ¶æ€å’ŒWHOISä¿¡æ¯

### é«˜çº§ç”¨æ³•

- ä½¿ç”¨æ‰¹é‡æ“ä½œå¿«é€Ÿç®¡ç†å¤šä¸ªåŸŸå
- è®¾ç½®è‡ªå®šä¹‰é‚®ä»¶æ¨¡æ¿
- åˆ©ç”¨å¯¼å‡ºåŠŸèƒ½å¤‡ä»½æ•°æ®
- é…ç½®å¤šç§é€šçŸ¥è§„åˆ™

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: å¯åŠ¨æ—¶é‡åˆ°ç«¯å£å†²çªæ€ä¹ˆåŠï¼Ÿ**
A: æ£€æŸ¥ç«¯å£å ç”¨å¹¶ç»ˆæ­¢ç›¸å…³è¿›ç¨‹ï¼Œæˆ–ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ç«¯å£è®¾ç½®ã€‚

**Q: é‚®ä»¶é€šçŸ¥æ— æ³•å‘é€ï¼Ÿ**
A: æ£€æŸ¥SMTPé…ç½®ï¼Œç¡®ä¿é‚®ç®±å¯†ç æ­£ç¡®ï¼Œé˜²ç«å¢™å…è®¸SMTPç«¯å£ã€‚

**Q: å¿˜è®°ç™»å½•å¯†ç ï¼Ÿ**
A: ä½¿ç”¨ `./password-admin-tool.sh` é‡ç½®å¯†ç ã€‚

**Q: æ•°æ®åº“æŸåå¦‚ä½•æ¢å¤ï¼Ÿ**
A: ä»å¤‡ä»½æ¢å¤ï¼Œæˆ–åˆ é™¤æ•°æ®åº“æ–‡ä»¶è®©ç³»ç»Ÿé‡æ–°åˆ›å»ºã€‚

### æ€§èƒ½ä¼˜åŒ–

- å®šæœŸæ¸…ç†è¿‡æœŸçš„é€šçŸ¥æ—¥å¿—
- å¯¹å¤§é‡åŸŸåä½¿ç”¨æ‰¹é‡æ“ä½œ
- é…ç½®åˆé€‚çš„æ£€æŸ¥é—´éš”
- ç›‘æ§ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ

---

<div align="center">
**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼ â­**

[ğŸŒ dommate.com](https://dommate.com) 

</div> 