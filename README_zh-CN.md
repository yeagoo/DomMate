# DomMate - ä¸“ä¸šåŸŸåç›‘æ§å¹³å°

<div align="center">
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Node.js Version](https://img.shields.io/badge/node-%3E%3D16.0.0-brightgreen.svg)](https://nodejs.org/)
[![Database](https://img.shields.io/badge/database-SQLite-blue.svg)](https://www.sqlite.org/)
[![GitHub Stars](https://img.shields.io/github/stars/yeagoo/DomMate.svg)](https://github.com/yeagoo/DomMate)

**ä¸“ä¸šçš„åŸŸååˆ°æœŸç›‘æ§è§£å†³æ–¹æ¡ˆ**

[ğŸŒ å®˜æ–¹ç½‘ç«™](https://dommate.com) | [ğŸ“– English Documentation](./README.md) | [ğŸš€ åœ¨çº¿æ¼”ç¤º](https://demo.dommate.com)

![DomMate Logo](./public/logo.svg)

</div>

## ğŸŒŸ å…³äº DomMate

**DomMate** æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„åŸŸåç›‘æ§å¹³å°ï¼Œä¸“ä¸ºä¸ªäººå’Œä¼ä¸šç”¨æˆ·è®¾è®¡ï¼Œæä¾›å…¨æ–¹ä½çš„åŸŸåç®¡ç†å’Œåˆ°æœŸç›‘æ§æœåŠ¡ã€‚å‡­å€Ÿç›´è§‚çš„ç•Œé¢å’Œå¼ºå¤§çš„åç«¯ï¼ŒDomMate ç¡®ä¿æ‚¨æ°¸è¿œä¸ä¼šé”™è¿‡å…³é”®çš„åŸŸåç»­è´¹ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ” æ™ºèƒ½ç›‘æ§
- **è‡ªåŠ¨åŸŸååˆ°æœŸè·Ÿè¸ª**: å®æ—¶ç›‘æ§åŸŸååˆ°æœŸæ—¥æœŸ
- **æ‰¹é‡æ“ä½œ**: é«˜æ•ˆç®¡ç†æ•°ç™¾ä¸ªåŸŸå
- **WHOISé›†æˆ**: è‡ªåŠ¨è·å–åŸŸåä¿¡æ¯
- **è‡ªå®šä¹‰æ£€æŸ¥é—´éš”**: çµæ´»çš„ç›‘æ§è®¡åˆ’

### ğŸ“§ é«˜çº§é€šçŸ¥
- **å¤šæ¸ é“è­¦æŠ¥**: å¯è‡ªå®šä¹‰æ¨¡æ¿çš„é‚®ä»¶é€šçŸ¥
- **æ™ºèƒ½è°ƒåº¦**: æ¯æ—¥ã€æ¯å‘¨å’Œè‡ªå®šä¹‰é€šçŸ¥è§„åˆ™
- **é€šçŸ¥å†å²**: å®Œæ•´çš„è­¦æŠ¥å®¡è®¡è·Ÿè¸ª
- **æ¨¡æ¿è‡ªå®šä¹‰**: ä¸ªæ€§åŒ–é‚®ä»¶æ¨¡æ¿

### ğŸ“Š åˆ†æä¸æ´å¯Ÿ
- **ç»¼åˆä»ªè¡¨æ¿**: å¯è§†åŒ–åŸŸåç»„åˆæ¦‚è§ˆ
- **åˆ°æœŸåˆ†æ**: è¯¦ç»†çš„ç»Ÿè®¡å’Œè¶‹åŠ¿
- **å¯¼å‡ºåŠŸèƒ½**: CSVã€JSONã€Excelå¯¼å‡ºé€‰é¡¹
- **æŠ¥å‘Šå·¥å…·**: å®šæ—¶æŠ¥å‘Šå’Œæ•°æ®å¯è§†åŒ–

### ğŸ·ï¸ ç»„ç»‡å·¥å…·
- **åŸŸååˆ†ç»„**: çµæ´»çš„åˆ†ç±»ç³»ç»Ÿ
- **æ ‡ç­¾ç³»ç»Ÿ**: ç”¨æ˜Ÿçº§æ ‡è®°é‡è¦åŸŸå
- **å¤‡æ³¨å’Œè¯„è®º**: ä¸ºæ¯ä¸ªåŸŸåæ·»åŠ è¯¦ç»†å¤‡æ³¨
- **æœç´¢å’Œè¿‡æ»¤**: é«˜çº§æœç´¢å’Œè¿‡æ»¤é€‰é¡¹

### ğŸ” å®‰å…¨è®¤è¯
- **ç”¨æˆ·è®¤è¯**: å…·æœ‰ä¼šè¯ç®¡ç†çš„å®‰å…¨ç™»å½•
- **éªŒè¯ç ä¿æŠ¤**: é˜²æ­¢æš´åŠ›ç ´è§£æ”»å‡»
- **å¯†ç ç­–ç•¥**: å¼ºåˆ¶å¯†ç æ›´æ”¹å’Œå®‰å…¨è§„åˆ™
- **ä¼šè¯ç®¡ç†**: åŸºäºä»¤ç‰Œçš„å®‰å…¨è®¤è¯

### ğŸŒ å¤šè¯­è¨€æ”¯æŒ
- **åŒè¯­ç•Œé¢**: å®Œæ•´çš„ä¸­è‹±æ–‡æ”¯æŒ
- **å›½é™…åŒ–**: ä¸ºå…¶ä»–è¯­è¨€åšå¥½i18nå‡†å¤‡
- **æœ¬åœ°åŒ–å†…å®¹**: ç‰¹å®šæ–‡åŒ–çš„æ—¥æœŸå’Œæ—¶é—´æ ¼å¼

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ³ Docker éƒ¨ç½² (æ¨è)

Dockeræ˜¯æœ€ç®€å•ã€æœ€å¯é çš„éƒ¨ç½²æ–¹å¼ï¼Œå…·æœ‰å®Œæ•´çš„æ•°æ®æŒä¹…åŒ–å’Œæƒé™å¤„ç†ã€‚

#### ğŸš€ å¿«é€Ÿå¯åŠ¨

ä¸€æ¡å‘½ä»¤å³å¯å¯åŠ¨å®Œæ•´çš„DomMateç³»ç»Ÿï¼š

```bash
# ä½¿ç”¨å®˜æ–¹é•œåƒå¿«é€Ÿå¯åŠ¨
docker run -d \
  --name dommate \
  -p 3001:3001 \
  --user 1000:1000 \
  --init \
  -v dommate-data:/app/data \
  -v dommate-logs:/app/logs \
  -v dommate-exports:/app/exports \
  -e DATABASE_PATH=/app/data/domains.db \
  -e EXPORT_DIR=/app/exports \
  -e LOG_FILE=/app/logs/dommate.log \
  -e TZ=Asia/Shanghai \
  ghcr.io/yeagoo/dommate:latest

# ç­‰å¾…æœåŠ¡å®Œå…¨å¯åŠ¨ (é€šå¸¸éœ€è¦30-60ç§’)
echo "ç­‰å¾…æœåŠ¡å¯åŠ¨..."
sleep 30

# éªŒè¯æœåŠ¡çŠ¶æ€
docker logs dommate --tail 10
curl -f http://localhost:3001/api/auth/info

# è®¿é—®ç•Œé¢
echo "âœ… æœåŠ¡å·²å¯åŠ¨ï¼"
echo "å‰ç«¯ç•Œé¢: http://localhost:3001"
echo "é»˜è®¤å¯†ç : admin123 (é¦–æ¬¡ç™»å½•éœ€ä¿®æ”¹)"
```

> **ğŸ”‘ å…³é”®å‚æ•°è¯´æ˜**ï¼š
> - `--user 1000:1000`: è§£å†³Dockerå·æƒé™é—®é¢˜
> - `--init`: å¯ç”¨initè¿›ç¨‹ï¼Œç¡®ä¿ä¿¡å·å¤„ç†æ­£ç¡®
> - ç¯å¢ƒå˜é‡: ç¡®ä¿æ•°æ®æ–‡ä»¶å­˜å‚¨åœ¨æ­£ç¡®çš„æŒä¹…åŒ–ç›®å½•

#### ğŸ™ Docker Compose (æ¨èç”Ÿäº§ç¯å¢ƒ)

ä½¿ç”¨Docker Composeå¯ä»¥è·å¾—æ›´å®Œæ•´çš„é…ç½®å’Œç®¡ç†åŠŸèƒ½ï¼š

```bash
# ä¸‹è½½å®˜æ–¹é…ç½®æ–‡ä»¶
curl -o docker-compose.yml https://raw.githubusercontent.com/yeagoo/DomMate/main/docker-compose.yml

# å¯åŠ¨æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹å¯åŠ¨æ—¥å¿—
docker-compose logs -f dommate

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
docker-compose ps
```

**Docker Composeä¼˜åŠ¿**ï¼š
- âœ… **è‡ªåŠ¨é‡å¯ç­–ç•¥**: å®¹å™¨å¼‚å¸¸é€€å‡ºè‡ªåŠ¨é‡å¯
- âœ… **å¥åº·æ£€æŸ¥**: è‡ªåŠ¨ç›‘æ§æœåŠ¡çŠ¶æ€
- âœ… **æƒé™å¤„ç†**: è‡ªåŠ¨å¤„ç†æ–‡ä»¶æƒé™é—®é¢˜
- âœ… **æ•°æ®æŒä¹…åŒ–**: å®Œæ•´çš„æ•°æ®ã€æ—¥å¿—ã€å¯¼å‡ºæ–‡ä»¶æŒä¹…åŒ–
- âœ… **æ—¶åŒºé…ç½®**: è‡ªåŠ¨è®¾ç½®äºšæ´²/ä¸Šæµ·æ—¶åŒº
- âœ… **ç½‘ç»œéš”ç¦»**: ç‹¬ç«‹ç½‘ç»œä¿éšœå®‰å…¨
- âœ… **èµ„æºé™åˆ¶**: å¯é…ç½®CPUå’Œå†…å­˜é™åˆ¶

**ç”Ÿäº§ç¯å¢ƒé…ç½®ç¤ºä¾‹**ï¼š

```yaml
services:
  dommate:
    image: ghcr.io/yeagoo/dommate:latest
    container_name: dommate
    restart: unless-stopped
    ports:
      - "3001:3001"
    user: "1000:1000"
    init: true
    environment:
      - NODE_ENV=production
      - DATABASE_PATH=/app/data/domains.db
      - EXPORT_DIR=/app/exports
      - LOG_FILE=/app/logs/dommate.log
      - TZ=Asia/Shanghai
    volumes:
      - dommate-data:/app/data
      - dommate-logs:/app/logs
      - dommate-exports:/app/exports
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:3001/api/auth/info"]
      interval: 30s
      timeout: 15s
      retries: 5
      start_period: 60s
    deploy:
      resources:
        limits:
          memory: 512M
          cpus: '0.5'

volumes:
  dommate-data:
  dommate-logs:
  dommate-exports:
```

#### ğŸ”§ Dockeræƒé™é—®é¢˜ä¿®å¤

å¦‚æœé‡åˆ°æ•°æ®æŒä¹…åŒ–æˆ–æƒé™é—®é¢˜ï¼Œä½¿ç”¨æˆ‘ä»¬æä¾›çš„è‡ªåŠ¨ä¿®å¤è„šæœ¬ï¼š

```bash
# ä¸‹è½½æƒé™ä¿®å¤è„šæœ¬
curl -o docker-fix-permissions.sh https://raw.githubusercontent.com/yeagoo/DomMate/main/docker-fix-permissions.sh
chmod +x docker-fix-permissions.sh

# è¿è¡Œæƒé™ä¿®å¤
./docker-fix-permissions.sh

# é‡å¯å®¹å™¨åº”ç”¨ä¿®å¤
docker restart dommate
```

**æƒé™ä¿®å¤è„šæœ¬åŠŸèƒ½**ï¼š
- ğŸ” **è‡ªåŠ¨æ£€æµ‹**: æ£€æŸ¥Dockerå·çŠ¶æ€å’Œæƒé™
- ğŸ”§ **è‡ªåŠ¨ä¿®å¤**: ä½¿ç”¨ä¸´æ—¶å®¹å™¨ä¿®å¤æƒé™é—®é¢˜
- âœ… **éªŒè¯ç»“æœ**: è‡ªåŠ¨éªŒè¯ä¿®å¤æ•ˆæœ
- ğŸ“ **è¯¦ç»†æ—¥å¿—**: æä¾›è¯¦ç»†çš„æ“ä½œæ—¥å¿—

#### ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

**æ£€æŸ¥æœåŠ¡çŠ¶æ€**ï¼š
```bash
# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker ps | grep dommate

# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
docker logs dommate --tail 50 -f

# æ£€æŸ¥å¥åº·çŠ¶æ€
docker inspect dommate --format='{{.State.Health.Status}}'

# æŸ¥çœ‹èµ„æºä½¿ç”¨
docker stats dommate --no-stream
```

**æ•°æ®å¤‡ä»½**ï¼š
```bash
# å¤‡ä»½æ•°æ®å·
docker run --rm -v dommate-data:/data -v $(pwd):/backup \
  alpine:latest tar czf /backup/dommate-data-$(date +%Y%m%d).tar.gz -C /data .

# æ¢å¤æ•°æ®å·ï¼ˆå¦‚æœéœ€è¦ï¼‰
docker run --rm -v dommate-data:/data -v $(pwd):/backup \
  alpine:latest tar xzf /backup/dommate-data-20231215.tar.gz -C /data
```

#### ğŸš¨ æ•…éšœæ’é™¤

**å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ**ï¼š

| é—®é¢˜ | ç—‡çŠ¶ | è§£å†³æ–¹æ¡ˆ |
|------|------|----------|
| æƒé™é—®é¢˜ | æ•°æ®ä¸¢å¤±ã€æ— æ³•å†™å…¥ | è¿è¡Œ `docker-fix-permissions.sh` |
| ç«¯å£å†²çª | æ— æ³•å¯åŠ¨å®¹å™¨ | ä¿®æ”¹ç«¯å£æ˜ å°„ `-p 3002:3001` |
| å†…å­˜ä¸è¶³ | å®¹å™¨é¢‘ç¹é‡å¯ | å¢åŠ å†…å­˜é™åˆ¶æˆ–é‡Šæ”¾ç³»ç»Ÿå†…å­˜ |
| ç½‘ç»œé—®é¢˜ | APIè°ƒç”¨å¤±è´¥ | æ£€æŸ¥é˜²ç«å¢™å’Œç½‘ç»œé…ç½® |

**è°ƒè¯•å‘½ä»¤**ï¼š
```bash
# è¿›å…¥å®¹å™¨è°ƒè¯•
docker exec -it dommate sh

# æ£€æŸ¥æ–‡ä»¶æƒé™
docker exec dommate ls -la /app/data/

# æ£€æŸ¥ç¯å¢ƒå˜é‡
docker exec dommate env | grep -E "(DATABASE|EXPORT|LOG)"

# æ‰‹åŠ¨æµ‹è¯•API
curl -v http://localhost:3001/api/auth/info
```

### ğŸ“¦ ä¼ ç»Ÿå®‰è£…æ–¹å¼

å¦‚æœæ‚¨åå¥½æºç å®‰è£…ï¼š

#### ç¯å¢ƒè¦æ±‚

- **Node.js** >= 16.0.0
- **npm** >= 7.0.0
- **Git** (ç”¨äºå…‹éš†ä»“åº“)

#### å®‰è£…æ­¥éª¤

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/yeagoo/DomMate.git
cd DomMate

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨åç«¯æœåŠ¡å™¨
node server/index.js

# åœ¨æ–°ç»ˆç«¯ä¸­å¯åŠ¨å‰ç«¯
npm run dev
```

### ğŸ¯ é¦–æ¬¡è®¿é—®

1. **æ‰“å¼€æµè§ˆå™¨** å¹¶å¯¼èˆªåˆ°ï¼š
   - **Dockeréƒ¨ç½²**: `http://localhost:3001` (å‰ç«¯+åç«¯)
   - **æºç å®‰è£…**: `http://localhost:4322` (å‰ç«¯) + `http://localhost:3001` (åç«¯)
2. **ç™»å½•** ä½¿ç”¨é»˜è®¤å¯†ç : `admin123`
3. **ç«‹å³æ›´æ”¹å¯†ç ** ä»¥ç¡®ä¿å®‰å…¨
4. **å¼€å§‹æ·»åŠ åŸŸå** è¿›è¡Œç›‘æ§

### âš¡ å¿«é€Ÿæµ‹è¯•

```bash
# æ£€æŸ¥å‰ç«¯é¡µé¢
curl http://localhost:3001

# æ£€æŸ¥APIæœåŠ¡çŠ¶æ€
curl http://localhost:3001/api/auth/info

# é¢„æœŸAPIè¿”å›
{"requiresAuth": true, "hasUsers": true}
```

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
DomMate/
â”œâ”€â”€ server/                    # åç«¯APIæœåŠ¡å™¨
â”‚   â”œâ”€â”€ index.js              # ä¸»æœåŠ¡å™¨æ–‡ä»¶
â”‚   â”œâ”€â”€ database.js           # SQLiteæ•°æ®åº“æ“ä½œ
â”‚   â”œâ”€â”€ authService.js        # è®¤è¯æœåŠ¡
â”‚   â”œâ”€â”€ emailService.js       # é‚®ä»¶é€šçŸ¥æœåŠ¡
â”‚   â””â”€â”€ exportService.js      # æ•°æ®å¯¼å‡ºæœåŠ¡
â”œâ”€â”€ src/                      # å‰ç«¯æºä»£ç 
â”‚   â”œâ”€â”€ components/           # Reactç»„ä»¶
â”‚   â”œâ”€â”€ layouts/              # Astroå¸ƒå±€
â”‚   â”œâ”€â”€ pages/                # åº”ç”¨é¡µé¢
â”‚   â”œâ”€â”€ lib/                  # å·¥å…·åº“
â”‚   â””â”€â”€ i18n/                 # å›½é™…åŒ–
â”œâ”€â”€ public/                   # é™æ€èµ„æº
â””â”€â”€ docs/                     # æ–‡æ¡£
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯**: Astro + React + TypeScript + Tailwind CSS
- **åç«¯**: Node.js + Express.js
- **æ•°æ®åº“**: SQLite
- **è®¤è¯**: JWT + ä¼šè¯ç®¡ç†
- **é‚®ä»¶**: æ”¯æŒæ¨¡æ¿çš„SMTP
- **API**: RESTful APIè®¾è®¡

## ğŸ”§ é…ç½®

### ç¯å¢ƒå˜é‡

åœ¨æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶:

```bash
# æ•°æ®åº“é…ç½®
DATABASE_PATH=./domain.db

# æœåŠ¡å™¨ç«¯å£
SERVER_PORT=3001
CLIENT_PORT=4322

# é‚®ä»¶é…ç½® (å¯é€‰)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your-email@example.com
SMTP_PASS=your-password

# å®‰å…¨è®¾ç½®
JWT_SECRET=your-jwt-secret
SESSION_SECRET=your-session-secret
```

### é‚®ä»¶è®¾ç½®

åœ¨åº”ç”¨ç¨‹åºä¸­é…ç½®SMTPè®¾ç½®:

1. å¯¼èˆªåˆ° **é‚®ä»¶é€šçŸ¥ç³»ç»Ÿ**
2. æ·»åŠ æ‚¨çš„SMTPé…ç½®
3. æµ‹è¯•è¿æ¥
4. è®¾ç½®é€šçŸ¥è§„åˆ™

## ğŸ“š API æ–‡æ¡£

### è®¤è¯ç«¯ç‚¹

```bash
# ç™»å½•
POST /api/auth/login
Content-Type: application/json
{
  "password": "your-password",
  "captcha": "captcha-value"
}

# æ›´æ”¹å¯†ç 
POST /api/auth/change-password
X-Session-Id: session-token
{
  "oldPassword": "old-password",
  "newPassword": "new-password"
}

# é€€å‡ºç™»å½•
POST /api/auth/logout
X-Session-Id: session-token
```

### åŸŸåç®¡ç†

```bash
# è·å–æ‰€æœ‰åŸŸå
GET /api/domains
X-Session-Id: session-token

# æ·»åŠ åŸŸå
POST /api/domains
X-Session-Id: session-token
{
  "domain": "example.com",
  "groupId": 1,
  "isImportant": false,
  "notes": "å¯é€‰å¤‡æ³¨"
}

# æ›´æ–°åŸŸåå¤‡æ³¨
PATCH /api/domains/:id/notes
X-Session-Id: session-token
{
  "notes": "æ›´æ–°çš„å¤‡æ³¨"
}

# æ‰¹é‡æ“ä½œ
POST /api/domains/batch-important
X-Session-Id: session-token
{
  "domainIds": [1, 2, 3],
  "isImportant": true
}
```

### å¯¼å‡ºAPI

```bash
# å¯¼å‡ºåŸŸå
POST /api/export/domains
X-Session-Id: session-token
{
  "format": "json",
  "fields": ["domain", "expiresAt", "status"],
  "language": "zh"
}
```

## ğŸ³ ç”Ÿäº§éƒ¨ç½²

### ğŸ› ï¸ è‡ªå®šä¹‰ Docker æ„å»º

å¦‚æœæ‚¨éœ€è¦ä¿®æ”¹æºç å¹¶æ„å»ºè‡ªå·±çš„é•œåƒï¼š

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/yeagoo/DomMate.git
cd DomMate

# æ„å»ºè‡ªå®šä¹‰é•œåƒ
docker build -t dommate-custom:latest .

# è¿è¡Œè‡ªå®šä¹‰é•œåƒï¼ˆå®Œæ•´é…ç½®ï¼‰
docker run -d \
  --name dommate-custom \
  -p 3001:3001 \
  --user 1000:1000 \
  --init \
  -v dommate-data:/app/data \
  -v dommate-logs:/app/logs \
  -v dommate-exports:/app/exports \
  -e DATABASE_PATH=/app/data/domains.db \
  -e EXPORT_DIR=/app/exports \
  -e LOG_FILE=/app/logs/dommate.log \
  -e TZ=Asia/Shanghai \
  dommate-custom:latest
```

**æ„å»ºä¼˜åŒ–æŠ€å·§**ï¼š
```bash
# ä½¿ç”¨æ„å»ºç¼“å­˜åŠ é€Ÿ
docker build --build-arg BUILDKIT_INLINE_CACHE=1 -t dommate-custom:latest .

# å¤šå¹³å°æ„å»º
docker buildx build --platform linux/amd64,linux/arm64 -t dommate-custom:latest .

# æŸ¥çœ‹é•œåƒå¤§å°
docker images dommate-custom:latest
```

### PM2 éƒ¨ç½² (æºç éƒ¨ç½²)

```bash
# å®‰è£…PM2
npm install -g pm2

# å¯åŠ¨åç«¯æœåŠ¡
pm2 start server/index.js --name dommate-api

# å¯åŠ¨å‰ç«¯æœåŠ¡
pm2 start "npm run dev" --name dommate-web

# ä¿å­˜PM2é…ç½®
pm2 save
pm2 startup
```

### ç”Ÿäº§æ„å»º

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# ä½¿ç”¨é™æ€æœåŠ¡å™¨æä¾›æœåŠ¡
npm run preview
```

### ğŸ©º Docker å¥åº·æ£€æŸ¥

DomMateé•œåƒå†…ç½®äº†å®Œå–„çš„å¥åº·æ£€æŸ¥ç³»ç»Ÿï¼š

```bash
# æ£€æŸ¥å®¹å™¨å¥åº·çŠ¶æ€
docker ps
# STATUSåˆ—ä¼šæ˜¾ç¤º: healthy æˆ– unhealthy

# æŸ¥çœ‹è¯¦ç»†å¥åº·æ£€æŸ¥ä¿¡æ¯
docker inspect dommate --format='{{json .State.Health}}' | jq

# æŸ¥çœ‹å¥åº·æ£€æŸ¥å†å²
docker inspect dommate --format='{{range .State.Health.Log}}{{.Start}} {{.ExitCode}} {{.Output}}{{end}}'

# æ‰‹åŠ¨è§¦å‘å¥åº·æ£€æŸ¥
docker exec dommate curl -f http://localhost:3001/api/auth/info
```

**å¥åº·æ£€æŸ¥é…ç½®**ï¼š
- âœ… **æ£€æŸ¥é—´éš”**: 30ç§’
- âœ… **è¶…æ—¶æ—¶é—´**: 15ç§’  
- âœ… **å¤±è´¥é‡è¯•**: 5æ¬¡
- âœ… **å¯åŠ¨å»¶è¿Ÿ**: 60ç§’ï¼ˆå…è®¸æœåŠ¡å®Œå…¨åˆå§‹åŒ–ï¼‰
- âœ… **æ£€æŸ¥ç«¯ç‚¹**: `/api/auth/info`ï¼ˆè½»é‡çº§è®¤è¯ä¿¡æ¯æ¥å£ï¼‰

**å¥åº·çŠ¶æ€è¯´æ˜**ï¼š
- `starting`: æœåŠ¡æ­£åœ¨å¯åŠ¨ä¸­
- `healthy`: æœåŠ¡è¿è¡Œæ­£å¸¸
- `unhealthy`: æœåŠ¡å‡ºç°é—®é¢˜ï¼Œéœ€è¦æ£€æŸ¥æ—¥å¿—

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œåç«¯æµ‹è¯•
npm test

# è¿è¡Œé›†æˆæµ‹è¯•
npm run test:integration

# æµ‹è¯•è®¤è¯ç³»ç»Ÿ
./test-force-password-change.sh

# æµ‹è¯•å¯†ç ç®¡ç†
./password-admin-tool.sh
```

## ğŸ”’ å®‰å…¨åŠŸèƒ½

- **å¯†ç åŠ å¯†**: SHA-256å“ˆå¸Œ
- **ä¼šè¯ç®¡ç†**: å®‰å…¨çš„åŸºäºä»¤ç‰Œçš„ä¼šè¯
- **æš´åŠ›ç ´è§£ä¿æŠ¤**: ç™»å½•å°è¯•é™åˆ¶
- **éªŒè¯ç éªŒè¯**: æ•°å­¦æŒ‘æˆ˜ç³»ç»Ÿ
- **å¼ºåˆ¶å¯†ç æ›´æ”¹**: å®‰å…¨ç­–ç•¥æ‰§è¡Œ
- **SQLæ³¨å…¥é˜²æŠ¤**: å‚æ•°åŒ–æŸ¥è¯¢
- **XSSä¿æŠ¤**: è¾“å…¥æ¸…ç†

## ğŸŒ å›½é™…åŒ–

DomMate æ”¯æŒå¤šç§è¯­è¨€:

- **è‹±è¯­**: å®Œæ•´çš„ç•Œé¢æ”¯æŒ
- **ä¸­æ–‡**: å®Œæ•´çš„æœ¬åœ°åŒ–
- **å¯æ‰©å±•**: æ˜“äºæ·»åŠ æ–°è¯­è¨€

æ·»åŠ æ–°è¯­è¨€çš„æ­¥éª¤:
1. åœ¨ `src/i18n/` ä¸­åˆ›å»ºæ–°çš„ç¿»è¯‘æ–‡ä»¶
2. æ›´æ–°è¯­è¨€é€‰æ‹©å™¨
3. æ·»åŠ æ—¥æœŸ/æ—¶é—´æœ¬åœ°åŒ–

## ğŸ¤ è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿ç¤¾åŒºçš„è´¡çŒ®ï¼

### å¦‚ä½•è´¡çŒ®

1. **Fork** ä»“åº“
2. **åˆ›å»º** åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. **æäº¤** æ‚¨çš„æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. **æ¨é€** åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. **æ‰“å¼€** Pull Request

### å¼€å‘æŒ‡å—

- éµå¾ªç°æœ‰çš„ä»£ç é£æ ¼
- ç¼–å†™å…¨é¢çš„æµ‹è¯•
- æ›´æ–°æ–‡æ¡£
- ä½¿ç”¨æœ‰æ„ä¹‰çš„æäº¤æ¶ˆæ¯

### æŠ¥å‘Šé—®é¢˜

- ä½¿ç”¨ [GitHub Issues](https://github.com/yeagoo/DomMate/issues) é¡µé¢
- æä¾›è¯¦ç»†çš„é‡ç°æ­¥éª¤
- åŒ…å«ç³»ç»Ÿä¿¡æ¯
- é™„åŠ ç›¸å…³æ—¥å¿—

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **MIT è®¸å¯è¯** - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ† å¥–é¡¹ä¸è®¤å¯

- â­ GitHub è¶‹åŠ¿æ¨è
- ğŸš€ Product Hunt æ¯æ—¥æ¨è
- ğŸ’ æœˆåº¦å¼€æºé¡¹ç›®

## ğŸ™ è‡´è°¢

- **è´¡çŒ®è€…**: æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„äºº
- **ä¾èµ–åº“**: åŸºäºå‡ºè‰²çš„å¼€æºé¡¹ç›®æ„å»º
- **ç¤¾åŒº**: æ„Ÿè°¢åé¦ˆå’Œæ”¯æŒ

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

### æœ€ä½³å®è·µ

1. **å®šæœŸå¤‡ä»½**: å®šæœŸå¤‡ä»½æ‚¨çš„åŸŸåæ•°æ®
2. **åˆ†ç»„ç®¡ç†**: ä½¿ç”¨åˆ†ç»„åŠŸèƒ½ç»„ç»‡æ‚¨çš„åŸŸå
3. **è®¾ç½®æé†’**: é…ç½®åˆé€‚çš„åˆ°æœŸæé†’æ—¶é—´
4. **ç›‘æ§çŠ¶æ€**: å®šæœŸæ£€æŸ¥åŸŸåçŠ¶æ€å’ŒWHOISä¿¡æ¯

### é«˜çº§ç”¨æ³•

- ä½¿ç”¨æ‰¹é‡æ“ä½œå¿«é€Ÿç®¡ç†å¤šä¸ªåŸŸå
- è®¾ç½®è‡ªå®šä¹‰é‚®ä»¶æ¨¡æ¿
- åˆ©ç”¨å¯¼å‡ºåŠŸèƒ½å¤‡ä»½æ•°æ®
- é…ç½®å¤šç§é€šçŸ¥è§„åˆ™

## ğŸ”§ æ•…éšœæ’é™¤

### Dockerç›¸å…³é—®é¢˜

**Q: å®¹å™¨é‡å¯åæ•°æ®ä¸¢å¤±ï¼Ÿ**
A: ç¡®ä¿ä½¿ç”¨äº†æ•°æ®å·æŒ‚è½½å¹¶è®¾ç½®äº†æ­£ç¡®çš„ç¯å¢ƒå˜é‡ï¼š
```bash
# æ£€æŸ¥å·æŒ‚è½½
docker inspect dommate | grep -A 10 '"Mounts"'

# æ£€æŸ¥ç¯å¢ƒå˜é‡
docker exec dommate env | grep -E "(DATABASE|EXPORT|LOG)"

# å¦‚æœæ•°æ®ä»ç„¶ä¸¢å¤±ï¼Œè¿è¡Œæƒé™ä¿®å¤è„šæœ¬
./docker-fix-permissions.sh
```

**Q: æƒé™é”™è¯¯å¯¼è‡´æ— æ³•å†™å…¥æ•°æ®ï¼Ÿ**
A: ä½¿ç”¨æƒé™ä¿®å¤è„šæœ¬è‡ªåŠ¨è§£å†³ï¼š
```bash
# ä¸‹è½½å¹¶è¿è¡Œæƒé™ä¿®å¤è„šæœ¬
curl -o docker-fix-permissions.sh https://raw.githubusercontent.com/yeagoo/DomMate/main/docker-fix-permissions.sh
chmod +x docker-fix-permissions.sh
./docker-fix-permissions.sh
```

**Q: é¡µé¢æ˜¾ç¤º404æˆ–æ— æ³•è®¿é—®ï¼Ÿ**
A: æ£€æŸ¥å®¹å™¨çŠ¶æ€å’Œç½‘ç»œé…ç½®ï¼š
```bash
# æ£€æŸ¥å®¹å™¨çŠ¶æ€
docker ps | grep dommate

# æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker logs dommate --tail 20

# æ£€æŸ¥ç«¯å£æ˜ å°„
docker port dommate

# æµ‹è¯•APIè¿é€šæ€§
curl http://localhost:3001/api/auth/info
```

### åº”ç”¨ç¨‹åºé—®é¢˜

**Q: å¯åŠ¨æ—¶é‡åˆ°ç«¯å£å†²çªæ€ä¹ˆåŠï¼Ÿ**
A: æ£€æŸ¥ç«¯å£å ç”¨å¹¶ä¿®æ”¹ç«¯å£æ˜ å°„ï¼š
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tulpn | grep :3001

# ä½¿ç”¨ä¸åŒç«¯å£å¯åŠ¨
docker run -d --name dommate -p 3002:3001 ... ghcr.io/yeagoo/dommate:latest
```

**Q: é‚®ä»¶é€šçŸ¥æ— æ³•å‘é€ï¼Ÿ**
A: æ£€æŸ¥SMTPé…ç½®å’Œç½‘ç»œè¿æ¥ï¼š
```bash
# è¿›å…¥å®¹å™¨æµ‹è¯•SMTPè¿æ¥
docker exec -it dommate sh
# åœ¨å®¹å™¨å†…æµ‹è¯•ï¼š
# telnet your-smtp-server.com 587
```

**Q: å¿˜è®°ç™»å½•å¯†ç ï¼Ÿ**
A: é‡ç½®æ•°æ®åº“ä¸­çš„å¯†ç æˆ–é‡æ–°åˆ›å»ºå®¹å™¨ï¼š
```bash
# æ–¹æ³•1: åˆ é™¤æ•°æ®åº“æ–‡ä»¶é‡æ–°åˆå§‹åŒ–
docker volume rm dommate-data
docker restart dommate

# æ–¹æ³•2: ä½¿ç”¨æ•°æ®åº“å·¥å…·ç›´æ¥ä¿®æ”¹
# (éœ€è¦ç†Ÿæ‚‰SQLiteæ“ä½œ)
```

**Q: æ•°æ®åº“æŸåå¦‚ä½•æ¢å¤ï¼Ÿ**
A: ä»å¤‡ä»½æ¢å¤æˆ–é‡æ–°åˆå§‹åŒ–ï¼š
```bash
# ä»å¤‡ä»½æ¢å¤ï¼ˆå¦‚æœæœ‰å¤‡ä»½ï¼‰
docker run --rm -v dommate-data:/data -v $(pwd):/backup \
  alpine:latest tar xzf /backup/dommate-data-backup.tar.gz -C /data

# é‡æ–°åˆå§‹åŒ–æ•°æ®åº“
docker stop dommate
docker volume rm dommate-data
docker start dommate
```

### æ€§èƒ½ä¼˜åŒ–

- å®šæœŸæ¸…ç†è¿‡æœŸçš„é€šçŸ¥æ—¥å¿—
- å¯¹å¤§é‡åŸŸåä½¿ç”¨æ‰¹é‡æ“ä½œ
- é…ç½®åˆé€‚çš„æ£€æŸ¥é—´éš”
- ç›‘æ§ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ

---

<div align="center">
**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼ â­**

[ğŸŒ dommate.com](https://dommate.com) 

</div> 